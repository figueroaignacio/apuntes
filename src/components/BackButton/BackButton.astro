---
// Styles
import styles from './BackButton.module.css';

// Components
import ArrowLeftIcon from '@/assets/svg/arrow-left.svg';
---

<button id="backButton" class={styles.backButton}>
  <ArrowLeftIcon />
  <span> Volver </span>
</button>

<script is:inline>
  function handleBack(e) {
    e.preventDefault();

    if (window.history.length > 1) {
      window.history.back();
    } else {
      window.location.href = '/';
    }
  }

  function setup() {
    const backButton = document.getElementById('backButton');

    if (backButton) {
      backButton.removeEventListener('click', handleBack);
      backButton.addEventListener('click', handleBack);
    }
  }

  document.addEventListener('DOMContentLoaded', setup);
  document.addEventListener('astro:after-swap', setup);
</script>
